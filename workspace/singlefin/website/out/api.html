<!DOCTYPE html>
<html class="h-100">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-142558169-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-142558169-2');
</script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<meta content="" name="description"/>
<!-- combined stylesheet -->
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>SingleFin API</title>
</head>
<body class="d-flex flex-column h-100">
<main class="flex-shrink-0" role="main">
<div id="site-top">
<div id="site-top-logo">
<strong id="logo"> SingleFin</strong>
</div> <!-- site-top-logo -->
<div id="site-top-nav">
<ul>
<li class="selected"><a href="api.html">API</a></li>
</ul>
</div> <!-- site-top-nav -->
</div> <!-- site-top -->
<div id="site-middle">
<div id="site-middle-nav"><ul>
<li><a href="#compile">Compile</a></li>
<li><a href="#build">Build</a></li>
<li><a href="#load">Load</a></li>
<li><a href="#commandline">Command Line</a></li>
<li><a href="#bytag">API calls by tag</a></li>
<li><a href=""> </a></li>
<li><a href="#Adc">Adc</a></li>
<li><a href="#Cli">Cli</a></li>
<li><a href="#Dss">Dss</a></li>
<li><a href="#File">File</a></li>
<li><a href="#Gpio">Gpio</a></li>
<li><a href="#Http">Http</a></li>
<li><a href="#I2c">I2c</a></li>
<li><a href="#Malloc">Malloc</a></li>
<li><a href="#Net">Net</a></li>
<li><a href="#Random">Random</a></li>
<li><a href="#Spi">Spi</a></li>
<li><a href="#Stdio">Stdio</a></li>
<li><a href="#Uart">Uart</a></li>
</ul></div> <!-- site-middle-nav -->
<div class="container content" id="site-middle-content"><h1 class="sectiontitle" id="doc.1">API <a class="sectionlink" href="#doc.1">§</a></h1><p>SingleFin Version: <span class="singlefin-version">XX.XX.XX</span> (2021-03-29)</p><p>Baseline TX3.0 (2021-03-29)</p><h2 class="sectiontitle" id="doc.1.1">Document scope <a class="sectionlink" href="#doc.1.1">§</a></h2><p></p><h2 class="sectiontitle" id="doc.1.2">What has been implemented <a class="sectionlink" href="#doc.1.2">§</a></h2><p></p><table class="table">
<thead>
<tr>
<th scope="col">Name</th>
<th scope="col">Description</th>
</tr>
</thead>
<tr>
<td>DSS Net Control</td>
<td>Yes</td>
</tr>
<tr>
<td>Networking Socket</td>
<td>No</td>
</tr>
<tr>
<td>Network Security</td>
<td>No</td>
</tr>
<tr>
<td>Networking Services</td>
<td>No</td>
</tr>
<tr>
<td>Domain Name System Client Service</td>
<td>Partially</td>
</tr>
<tr>
<td>MQTT</td>
<td>No</td>
</tr>
<tr>
<td>HTTPs</td>
<td>Partially</td>
</tr>
<tr>
<td>Gpio</td>
<td>Yes</td>
</tr>
<tr>
<td>Diagnostic Services Module</td>
<td>No</td>
</tr>
<tr>
<td>File System</td>
<td>Yes</td>
</tr>
<tr>
<td>I2c</td>
<td>Yes</td>
</tr>
<tr>
<td>Spi</td>
<td>Yes</td>
</tr>
<tr>
<td>Uart</td>
<td>Yes</td>
</tr>
</table><h1 class="sectiontitle" id="compile">Compile <a class="sectionlink" href="#compile">§</a></h1><p>Add SingleFin C source and header to your build. The distributable contains an example Makefile using the llvm compiler for reference (clang). In the simplest case:</p><pre class="c-code"><span class="normal">clang</span><span class="symbol">.</span><span class="normal">exe </span><span class="symbol">-</span><span class="normal">o singlefin</span><span class="symbol">.</span><span class="normal">o </span><span class="symbol">-</span><span class="normal">c singlefin</span><span class="symbol">.</span><span class="normal">c</span>
</pre><h1 class="sectiontitle" id="build">Build <a class="sectionlink" href="#build">§</a></h1><p>Open the test hello world from our examples and from the command line type:</p><pre class="c-code"><span class="normal">make clean all</span>
</pre><p>The output directory is <span class="badge badge-dark">out</span> and the binary file is placed inside. Deploy to target by connecting to the USB port <span class="badge badge-dark">MODEM</span> and type:</p><pre class="c-code"><span class="normal">make load</span>
</pre><h2 class="sectiontitle" id="build">Library <a class="sectionlink" href="#build">§</a></h2><p>A single include header makes easy to integrate in your app.</p><pre class="c-code"><span class="preproc">#include</span><span class="normal"> </span><span class="string">"singlefin.h"</span>

<span class="type">int</span><span class="normal"> </span><span class="function">main </span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">	</span>
<span class="normal"> </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Aloha!\r\n"</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal"> </span><span class="keyword">for</span><span class="symbol">(</span><span class="symbol">;</span><span class="symbol">;</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">  </span><span class="function">sleep</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal"> </span><span class="cbracket">}</span>

<span class="cbracket">}</span>
</pre><h1 class="sectiontitle" id="load">Load a Binary <a class="sectionlink" href="#load">§</a></h1><p>To load a binary or a file to the module you can use the following methods:</p><ol>
<li>1. AT File commands</li>
<li>2. Kermit protocol</li>
</ol><h2 class="sectiontitle" id="load.1">AT File Commands <a class="sectionlink" href="#load.1">§</a></h2><p>The script provided uses Powershell to communicate to the modules over the <span class="badge badge-dark">MODEM</span> port. The process is automated so the developer doesnt need to manually send the AT Commands.</p><h2 class="sectiontitle" id="load.2">Kermit Protocol <a class="sectionlink" href="#load.2">§</a></h2><p>The script provided uses the Kermit protocol to send files to the module over the <span class="badge badge-dark">DEBUG</span> port.</p><h2 class="sectiontitle" id="load.3">List of Command Lines <a class="sectionlink" href="#load.3">§</a></h2><table class="table">
<thead>
<tr>
<th scope="col">Command Name</th>
<th scope="col">SingleFin Interface</th>
<th scope="col">Module Interface</th>
<th scope="col">Script</th>
<th scope="col">Description</th>
</tr>
</thead>
<tr>
<td><code>make load</code></td>
<td>MODEM</td>
<td>USB AT Port</td>
<td>push-app.ps1</td>
<td>Push a binary file and .ini file to the module using AT File commands</td>
</tr>
<tr>
<td><code>make push</code></td>
<td>DEBUG</td>
<td>UART 2</td>
<td>push-file.ps1</td>
<td>Push a binary file using Kermit protocol</td>
</tr>
</table><h1 class="sectiontitle" id="commandline">Command Line <a class="sectionlink" href="#commandline">§</a></h1><p>A number of commands have been integrated in the library to allow the developer to interact with the file system directly instead of using AT commands. Some of the most common commands have been integrated and can be seen below.</p><p>Additionally the API allows a developer to create their own command lines (see <a href="#cli">cli</a> for details).</p><h2 class="sectiontitle" id="commandline.1">List of Command Lines <a class="sectionlink" href="#commandline.1">§</a></h2><table class="table">
<thead>
<tr>
<th scope="col">Command Name</th>
<th scope="col">Description</th>
</tr>
</thead>
<tr>
<td><code>help</code></td>
<td>Display a list of the commands</td>
</tr>
<tr>
<td><code>meminfo</code></td>
<td>Display dynamic memory information</td>
</tr>
<tr>
<td><code>ls</code></td>
<td>List directory details</td>
</tr>
<tr>
<td><code>cat</code></td>
<td>Display on the terminal a files content</td>
</tr>
<tr>
<td><code>rm</code></td>
<td>Remove a file or directory</td>
</tr>
<tr>
<td><code>mkdir</code></td>
<td>Create a directory</td>
</tr>
<tr>
<td><code>touch</code></td>
<td>Create an empty file</td>
</tr>
<tr>
<td><code>echo</code></td>
<td>Write to a file</td>
</tr>
</table><h2 class="sectiontitle" id="commandline.2">Prompt <a class="sectionlink" href="#commandline.2">§</a></h2><p>When connected over UART2 or when using SingleFin <span class="badge badge-dark">USB DEBUG</span> port (UART2) you will be prompted the shift right arrows.</p><pre class="c-code"><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="normal"> </span>
</pre><h2 class="sectiontitle" id="commandline.3">Help <a class="sectionlink" href="#commandline.3">§</a></h2><p>Type help to view a list of the available commands.</p><pre class="c-code"><span class="symbol">&gt;</span><span class="symbol">&gt;</span><span class="normal"> help</span>
</pre><h1 class="sectiontitle" id="bytag">API calls by tag <a class="sectionlink" href="#bytag">§</a></h1><h2 class="sectiontitle" id="taglist-1.0.0">1.0.0 <a class="sectionlink" href="#taglist-1.0.0">§</a></h2><ul class="taglist">
<li><a href="#Adc">Adc</a></li>
<li><a href="#Cli">Cli</a></li>
<li><a href="#Dss">Dss</a></li>
<li><a href="#File">File</a></li>
<li><a href="#Gpio">Gpio</a></li>
<li><a href="#Http">Http</a></li>
<li><a href="#I2c">I2c</a></li>
<li><a href="#Malloc">Malloc</a></li>
<li><a href="#Net">Net</a></li>
<li><a href="#Random">Random</a></li>
<li><a href="#Spi">Spi</a></li>
<li><a href="#Stdio">Stdio</a></li>
<li><a href="#Uart">Uart</a></li>
</ul><h2 class="sectiontitle" id="taglist-Adc">Adc <a class="sectionlink" href="#taglist-Adc">§</a></h2><ul class="taglist">
<li><a href="#Adc">Adc</a></li>
</ul><h2 class="sectiontitle" id="taglist-Cli">Cli <a class="sectionlink" href="#taglist-Cli">§</a></h2><ul class="taglist">
<li><a href="#Cli">Cli</a></li>
</ul><h2 class="sectiontitle" id="taglist-Dss">Dss <a class="sectionlink" href="#taglist-Dss">§</a></h2><ul class="taglist">
<li><a href="#Dss">Dss</a></li>
</ul><h2 class="sectiontitle" id="taglist-File">File <a class="sectionlink" href="#taglist-File">§</a></h2><ul class="taglist">
<li><a href="#File">File</a></li>
</ul><h2 class="sectiontitle" id="taglist-Gpio">Gpio <a class="sectionlink" href="#taglist-Gpio">§</a></h2><ul class="taglist">
<li><a href="#Gpio">Gpio</a></li>
</ul><h2 class="sectiontitle" id="taglist-Http">Http <a class="sectionlink" href="#taglist-Http">§</a></h2><ul class="taglist">
<li><a href="#Http">Http</a></li>
</ul><h2 class="sectiontitle" id="taglist-I2c">I2c <a class="sectionlink" href="#taglist-I2c">§</a></h2><ul class="taglist">
<li><a href="#I2c">I2c</a></li>
</ul><h2 class="sectiontitle" id="taglist-Malloc">Malloc <a class="sectionlink" href="#taglist-Malloc">§</a></h2><ul class="taglist">
<li><a href="#Malloc">Malloc</a></li>
</ul><h2 class="sectiontitle" id="taglist-Net">Net <a class="sectionlink" href="#taglist-Net">§</a></h2><ul class="taglist">
<li><a href="#Net">Net</a></li>
</ul><h2 class="sectiontitle" id="taglist-Random">Random <a class="sectionlink" href="#taglist-Random">§</a></h2><ul class="taglist">
<li><a href="#Random">Random</a></li>
</ul><h2 class="sectiontitle" id="taglist-Spi">Spi <a class="sectionlink" href="#taglist-Spi">§</a></h2><ul class="taglist">
<li><a href="#Spi">Spi</a></li>
</ul><h2 class="sectiontitle" id="taglist-Stdio">Stdio <a class="sectionlink" href="#taglist-Stdio">§</a></h2><ul class="taglist">
<li><a href="#Stdio">Stdio</a></li>
</ul><h2 class="sectiontitle" id="taglist-Uart">Uart <a class="sectionlink" href="#taglist-Uart">§</a></h2><ul class="taglist">
<li><a href="#Uart">Uart</a></li>
</ul><h1 class="apih1 sectiontitle" id="Adc">
<a href="#Adc"><span class="hidechar">.</span>Adc</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Adc">Adc</a>
 <a class="sectionlink" href="#Adc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Adc.1">Prototype <a class="sectionlink" href="#Adc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int fin_adc_config(fin_adc_channel_t adc_num);
uint32_t fin_adc_read_microvolts(fin_adc_channel_t adc_num);
uint32_t fin_adc_read_physical(fin_adc_channel_t adc_num);
uint32_t fin_adc_read_percent(fin_adc_channel_t adc_num);
uint32_t fin_adc_read_raw(fin_adc_channel_t adc_num);"><span class="type">int</span><span class="normal"> </span><span class="function">fin_adc_config</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">uint32_t </span><span class="function">fin_adc_read_microvolts</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">uint32_t </span><span class="function">fin_adc_read_physical</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">uint32_t </span><span class="function">fin_adc_read_percent</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">uint32_t </span><span class="function">fin_adc_read_raw</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Adc.2">Function Details <a class="sectionlink" href="#Adc.2">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">fin_adc_config</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_adc_channel_t</span><span class="cbracket">}</span><span class="normal"> adc_num</span>
<span class="normal">      Adc number</span>

<span class="normal">uint32_t </span><span class="function">fin_adc_read_microvolts</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_adc_channel_t</span><span class="cbracket">}</span><span class="normal"> adc_num</span>
<span class="normal">      Adc number</span>

<span class="normal">uint32_t </span><span class="function">fin_adc_read_physical</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">fin_adc_channel_t</span><span class="cbracket">}</span><span class="normal"> adc_num</span>
<span class="normal">    Adc number</span>

<span class="normal">uint32_t </span><span class="function">fin_adc_read_percent</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_adc_channel_t</span><span class="cbracket">}</span><span class="normal"> adc_num</span>
<span class="normal">      Adc number</span>

<span class="normal">uint32_t </span><span class="function">fin_adc_read_raw</span><span class="symbol">(</span><span class="normal">fin_adc_channel_t adc_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_adc_channel_t</span><span class="cbracket">}</span><span class="normal"> adc_num</span>
<span class="normal">      Adc number</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Adc.3">Defines <a class="sectionlink" href="#Adc.3">§</a></h2>
<pre class="c-code"><span class="normal">ADC0</span>
<span class="normal">ADC1</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Adc.4">Summary <a class="sectionlink" href="#Adc.4">§</a></h2>
<p>Analogue Input</p>
<p>Single ended analogue inputs</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Adc.5">Example <a class="sectionlink" href="#Adc.5">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> res </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_adc_config</span><span class="symbol">(</span><span class="normal">ADC0</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">uint32_t adc0 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_adc_read_microvolts</span><span class="symbol">(</span><span class="normal">ADC0</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Cli">
<a href="#Cli"><span class="hidechar">.</span>Cli</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Cli">Cli</a>
 <a class="sectionlink" href="#Cli">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Cli.1">Prototype <a class="sectionlink" href="#Cli.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_cli_t *fin_cli_new(void);
void fin_cli_free(fin_cli_t *ctx);
void fin_cli_input(fin_cli_t *ctx, char c);
int fin_cli_register(fin_cli_t *ctx, const char *name, fin_cli_callback_t func);"><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="function">fin_cli_new</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="function">fin_cli_free</span><span class="symbol">(</span><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="function">fin_cli_input</span><span class="symbol">(</span><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> c</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_cli_register</span><span class="symbol">(</span><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">name</span><span class="symbol">,</span><span class="normal"> fin_cli_callback_t func</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Cli.2">Callbacks <a class="sectionlink" href="#Cli.2">§</a></h2>
<pre class="c-code"><span class="keyword">typedef</span><span class="normal"> </span><span class="type">int</span><span class="normal"> </span><span class="symbol">(</span><span class="symbol">*</span><span class="normal">fin_cli_callback_t</span><span class="symbol">)</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> args</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">argv</span><span class="symbol">[</span><span class="symbol">]</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Cli.3">Function Details <a class="sectionlink" href="#Cli.3">§</a></h2>
<pre class="c-code"><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="function">fin_cli_new</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Return</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_cli_t</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> A </span><span class="keyword">new</span><span class="normal"> cli context</span>

<span class="type">void</span><span class="normal"> </span><span class="function">cli_free</span><span class="symbol">(</span><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_cli_t</span><span class="cbracket">}</span><span class="normal"> ctx</span>
<span class="normal">      Free a cli context </span>

<span class="type">void</span><span class="normal"> </span><span class="function">fin_cli_input</span><span class="symbol">(</span><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> c</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_cli_t</span><span class="cbracket">}</span><span class="normal"> ctx</span>
<span class="normal">      Cli context</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="type">char</span><span class="cbracket">}</span><span class="normal"> c</span>
<span class="normal">      Character to add and parse to the internal ctx</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_cli_register</span><span class="symbol">(</span><span class="normal">fin_cli_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">name</span><span class="symbol">,</span><span class="normal"> fin_cli_callback_t func</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_cli_t</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> ctx</span>
<span class="normal">      Cli context</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> name</span>
<span class="normal">      Command line name to </span><span class="keyword">register</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_cli_callback_t</span><span class="cbracket">}</span><span class="normal"> func</span>
<span class="normal">      Callback function to call when the command line has been received</span>
<span class="normal">  Return</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="type">int</span><span class="cbracket">}</span><span class="normal"> Zero on success otherwise error</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Cli.4">Summary <a class="sectionlink" href="#Cli.4">§</a></h2>
<p>Cli</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Cli.5">Example <a class="sectionlink" href="#Cli.5">§</a></h2>
<pre class="c-code"><span class="comment">/*</span><span class="comment"> User Callback </span><span class="comment">*/</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">int</span><span class="normal"> </span><span class="function">cli_cmd_onnx</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> args</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">argv</span><span class="symbol">[</span><span class="symbol">]</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/*</span><span class="comment"> User code </span><span class="comment">*/</span>
<span class="cbracket">}</span>

<span class="type">int</span><span class="normal"> </span><span class="function">main</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="cbracket">{</span>

<span class="normal">  fin_cli_t </span><span class="symbol">*</span><span class="normal">fin_cli </span><span class="symbol">=</span><span class="normal"> </span><span class="function">cli_new</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  </span><span class="function">fin_cli_register</span><span class="symbol">(</span><span class="normal">cli</span><span class="symbol">,</span><span class="string">"onnx"</span><span class="symbol">,</span><span class="normal">cli_cmd_onnx</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">  </span><span class="keyword">for</span><span class="symbol">(</span><span class="symbol">;</span><span class="symbol">;</span><span class="symbol">)</span><span class="cbracket">{</span>

<span class="normal">    </span><span class="type">int</span><span class="normal"> c </span><span class="symbol">=</span><span class="normal"> </span><span class="function">getchar</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span>
<span class="normal">    </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">c </span><span class="symbol">!</span><span class="symbol">=</span><span class="normal"> EOF</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">      </span><span class="comment">/*</span><span class="comment"> Echo </span><span class="comment">*/</span>
<span class="normal">      </span><span class="function">putchar</span><span class="symbol">(</span><span class="normal">c</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">      </span><span class="comment">/*</span><span class="comment"> Push to Input </span><span class="comment">*/</span>
<span class="normal">      </span><span class="function">fin_cli_input</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">  </span><span class="cbracket">}</span>

<span class="cbracket">}</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Dss">
<a href="#Dss"><span class="hidechar">.</span>Dss</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Dss">Dss</a>
 <a class="sectionlink" href="#Dss">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Dss.1">Prototype <a class="sectionlink" href="#Dss.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_dss_ctx_t *fin_dss_new(const char *apn, const char *password, const char *username);
int fin_dss_start(fin_dss_ctx_t *ctx);
int fin_dss_restart(fin_dss_ctx_t *ctx);
int fin_dss_stop(fin_dss_ctx_t *ctx);
int fin_dss_free(fin_dss_ctx_t *ctx);"><span class="normal">fin_dss_ctx_t </span><span class="symbol">*</span><span class="function">fin_dss_new</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">apn</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">password</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">username</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_dss_start</span><span class="symbol">(</span><span class="normal">fin_dss_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_dss_restart</span><span class="symbol">(</span><span class="normal">fin_dss_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_dss_stop</span><span class="symbol">(</span><span class="normal">fin_dss_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_dss_free</span><span class="symbol">(</span><span class="normal">fin_dss_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Dss.2">Macros <a class="sectionlink" href="#Dss.2">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_dss_set_notify(ctx, tobenotified) 
fin_dss_wait_conn_notify(N,T)"><span class="function">fin_dss_set_notify</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> tobenotified</span><span class="symbol">)</span><span class="normal"> </span>
<span class="function">fin_dss_wait_conn_notify</span><span class="symbol">(</span><span class="normal">N</span><span class="symbol">,</span><span class="normal">T</span><span class="symbol">)</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Dss.3">Callbacks <a class="sectionlink" href="#Dss.3">§</a></h2>
<pre class="c-code"><span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(</span><span class="symbol">*</span><span class="normal">fin_dss_data_call_status_cb_t</span><span class="symbol">)</span><span class="symbol">(</span><span class="normal">qapi_DSS_Net_Evt_t evt</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Dss.4">Function Details <a class="sectionlink" href="#Dss.4">§</a></h2>
<pre class="c-code"></pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Dss.5">Summary <a class="sectionlink" href="#Dss.5">§</a></h2>
<p>Dss</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Dss.6">Example <a class="sectionlink" href="#Dss.6">§</a></h2>
<pre class="c-code"><span class="normal">fin_dss_ctx_t </span><span class="symbol">*</span><span class="normal">dss_ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_dss_new</span><span class="symbol">(</span><span class="string">"mdata.net.au"</span><span class="symbol">,</span><span class="normal">NULL</span><span class="symbol">,</span><span class="normal">NULL</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_dss_start</span><span class="symbol">(</span><span class="normal">dss_ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_dss_wait_conn_notify</span><span class="symbol">(</span><span class="normal">dss_ctx</span><span class="symbol">,</span><span class="number">10000</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="Dss.7">See also <a class="sectionlink" href="#Dss.7">§</a></h2>
<ul>
<li><a href="#Net">Net</a></li>
</ul>
</div>

</div><h1 class="apih1 sectiontitle" id="File">
<a href="#File"><span class="hidechar">.</span>File</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-File">File</a>
 <a class="sectionlink" href="#File">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="File.1">Prototype <a class="sectionlink" href="#File.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): FILE *fopen(const char *path, const char *mode);
int fclose(FILE *fp);
int fseek(FILE *fp, long offset, int whence);
long ftell(FILE *fp);
int fstat(int fd, struct stat *statbuf);
int lstat(const char *pathname, struct stat *statbuf);
size_t fread(void *ptr, size_t size, size_t nmemb, FILE *fp);
size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *fp);
DIR *opendir(const char *name);
struct dirent *readdir(DIR *dirp);
int closedir(DIR *dirp);
int rmdir (const char *filename);
int mkdir(const char *pathname, mode_t mode);
int unlink (const char *filename);
int truncate(const char *path, off_t length);
int rename(const char *old, const char *new);
int access (const char *filename, int how);"><span class="normal">FILE </span><span class="symbol">*</span><span class="function">fopen</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">path</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">mode</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fclose</span><span class="symbol">(</span><span class="normal">FILE </span><span class="symbol">*</span><span class="normal">fp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fseek</span><span class="symbol">(</span><span class="normal">FILE </span><span class="symbol">*</span><span class="normal">fp</span><span class="symbol">,</span><span class="normal"> </span><span class="type">long</span><span class="normal"> offset</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> whence</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">long</span><span class="normal"> </span><span class="function">ftell</span><span class="symbol">(</span><span class="normal">FILE </span><span class="symbol">*</span><span class="normal">fp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fstat</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> fd</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> stat </span><span class="symbol">*</span><span class="normal">statbuf</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">lstat</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">pathname</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> stat </span><span class="symbol">*</span><span class="normal">statbuf</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">size_t </span><span class="function">fread</span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">,</span><span class="normal"> size_t size</span><span class="symbol">,</span><span class="normal"> size_t nmemb</span><span class="symbol">,</span><span class="normal"> FILE </span><span class="symbol">*</span><span class="normal">fp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">size_t </span><span class="function">fwrite</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">,</span><span class="normal"> size_t size</span><span class="symbol">,</span><span class="normal"> size_t nmemb</span><span class="symbol">,</span><span class="normal"> FILE </span><span class="symbol">*</span><span class="normal">fp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">DIR </span><span class="symbol">*</span><span class="function">opendir</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">name</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> dirent </span><span class="symbol">*</span><span class="function">readdir</span><span class="symbol">(</span><span class="normal">DIR </span><span class="symbol">*</span><span class="normal">dirp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">closedir</span><span class="symbol">(</span><span class="normal">DIR </span><span class="symbol">*</span><span class="normal">dirp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">rmdir </span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">filename</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">mkdir</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">pathname</span><span class="symbol">,</span><span class="normal"> mode_t mode</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">unlink </span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">filename</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">truncate</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">path</span><span class="symbol">,</span><span class="normal"> off_t length</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">rename</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">old</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="keyword">new</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">access </span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">filename</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> how</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="File.2">Summary <a class="sectionlink" href="#File.2">§</a></h2>
<p>File system functions.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="File.3">Example <a class="sectionlink" href="#File.3">§</a></h2>
<pre class="c-code"><span class="keyword">struct</span><span class="normal"> stat st</span><span class="symbol">;</span>
<span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">f </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"/mydir"</span><span class="symbol">;</span>
<span class="normal">DIR </span><span class="symbol">*</span><span class="normal"> dir</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> dirent </span><span class="symbol">*</span><span class="normal"> d</span><span class="symbol">;</span>
<span class="type">char</span><span class="normal"> tmp</span><span class="symbol">[</span><span class="normal">PATH_MAX</span><span class="symbol">]</span><span class="symbol">;</span>

<span class="keyword">if</span><span class="symbol">(</span><span class="symbol">(</span><span class="function">lstat</span><span class="symbol">(</span><span class="normal">f</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">st</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="symbol">&amp;</span><span class="normal"> </span><span class="function">S_ISDIR</span><span class="symbol">(</span><span class="normal">st</span><span class="symbol">.</span><span class="normal">st_mode</span><span class="symbol">)</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">if</span><span class="symbol">(</span><span class="symbol">(</span><span class="normal">dir </span><span class="symbol">=</span><span class="normal"> </span><span class="function">opendir</span><span class="symbol">(</span><span class="normal">f</span><span class="symbol">)</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="normal"> NULL</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">      </span><span class="keyword">while</span><span class="symbol">(</span><span class="symbol">(</span><span class="normal">d </span><span class="symbol">=</span><span class="normal"> </span><span class="function">readdir</span><span class="symbol">(</span><span class="normal">dir</span><span class="symbol">)</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="normal"> NULL</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">sprintf</span><span class="symbol">(</span><span class="normal">tmp</span><span class="symbol">,</span><span class="string">"%s/%s"</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">-</span><span class="symbol">&gt;</span><span class="normal">d_name</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="keyword">if</span><span class="symbol">(</span><span class="symbol">(</span><span class="function">lstat</span><span class="symbol">(</span><span class="normal">tmp</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">st</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="symbol">&amp;</span><span class="normal"> </span><span class="function">S_ISDIR</span><span class="symbol">(</span><span class="normal">st</span><span class="symbol">.</span><span class="normal">st_mode</span><span class="symbol">)</span><span class="symbol">)</span><span class="cbracket">{</span>
<span class="normal">          </span><span class="keyword">if</span><span class="symbol">(</span><span class="function">strcmp</span><span class="symbol">(</span><span class="string">"."</span><span class="symbol">,</span><span class="normal"> d</span><span class="symbol">-</span><span class="symbol">&gt;</span><span class="normal">d_name</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span>
<span class="normal">            </span><span class="keyword">continue</span><span class="symbol">;</span>
<span class="normal">          </span><span class="keyword">if</span><span class="symbol">(</span><span class="function">strcmp</span><span class="symbol">(</span><span class="string">".."</span><span class="symbol">,</span><span class="normal"> d</span><span class="symbol">-</span><span class="symbol">&gt;</span><span class="normal">d_name</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span>
<span class="normal">            </span><span class="keyword">continue</span><span class="symbol">;</span>
<span class="normal">          </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"%s\r\n"</span><span class="symbol">,</span><span class="normal">tmp</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">      </span><span class="cbracket">}</span>
<span class="normal">      </span><span class="function">closedir</span><span class="symbol">(</span><span class="normal">dir</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Gpio">
<a href="#Gpio"><span class="hidechar">.</span>Gpio</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Gpio">Gpio</a>
 <a class="sectionlink" href="#Gpio">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Gpio.1">Prototype <a class="sectionlink" href="#Gpio.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int fin_gpio_pin_on(uint32_t pin, uint32_t trigger, fin_gpio_interrupt_cb_t interrupt_cb);
int fin_gpio_pin_trigger(uint32_t pin);
int fin_gpio_pin_disable_irq(uint32_t pin);
int fin_gpio_pin_enable_irq(uint32_t pin);
int fin_gpio_pin_config(uint32_t pin, uint32_t pull, uint32_t drive, uint32_t type);
int fin_gpio_pin_output(uint32_t pin, uint32_t pull, uint32_t drive);
int fin_gpio_pin_input(uint32_t pin, uint32_t pull, uint32_t drive);
int fin_gpio_pin_release(uint32_t pin);
int fin_gpio_pin_write(uint32_t pin, bool val);
int fin_gpio_pin_read(uint32_t pin);
void fin_gpio_config_dump(uint32_t pin);"><span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_on</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t trigger</span><span class="symbol">,</span><span class="normal"> fin_gpio_interrupt_cb_t interrupt_cb</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_trigger</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_disable_irq</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_enable_irq</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_config</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t pull</span><span class="symbol">,</span><span class="normal"> uint32_t drive</span><span class="symbol">,</span><span class="normal"> uint32_t type</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_output</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t pull</span><span class="symbol">,</span><span class="normal"> uint32_t drive</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_input</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t pull</span><span class="symbol">,</span><span class="normal"> uint32_t drive</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_release</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_write</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> </span><span class="type">bool</span><span class="normal"> val</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_read</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="function">fin_gpio_config_dump</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Gpio.2">Callbacks <a class="sectionlink" href="#Gpio.2">§</a></h2>
<pre class="c-code"><span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(</span><span class="symbol">*</span><span class="normal">fin_gpio_interrupt_cb_t</span><span class="symbol">)</span><span class="symbol">(</span><span class="normal">uint32_t arg</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Gpio.3">Function Details <a class="sectionlink" href="#Gpio.3">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_on</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t trigger</span><span class="symbol">,</span><span class="normal"> gpio_interrupt_cb_t interrupt_cb</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> trigger</span>
<span class="normal">      Callback edge trigger</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">function</span><span class="cbracket">}</span>
<span class="normal">      Function callback</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_trigger</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_disable_irq</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_enable_irq</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_config</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t pull</span><span class="symbol">,</span><span class="normal"> uint32_t drive</span><span class="symbol">,</span><span class="normal"> uint32_t type</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pull</span>
<span class="normal">      Pull type</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> drive</span>
<span class="normal">      Pin current drive</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> type</span>
<span class="normal">     Input or Output</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_output</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t pull</span><span class="symbol">,</span><span class="normal"> uint32_t drive</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pull</span>
<span class="normal">      Pull type</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> drive</span>
<span class="normal">      Pin current drive</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_input</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> uint32_t pull</span><span class="symbol">,</span><span class="normal"> uint32_t drive</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pull</span>
<span class="normal">      Pull type</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> drive</span>
<span class="normal">      Pin current drive</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_release</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_write</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">,</span><span class="normal"> </span><span class="type">bool</span><span class="normal"> val</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Bool</span><span class="cbracket">}</span><span class="normal"> val</span>
<span class="normal">      Value to write</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_gpio_pin_read</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>

<span class="type">void</span><span class="normal"> </span><span class="function">fin_gpio_config_dump</span><span class="symbol">(</span><span class="normal">uint32_t pin</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> pin</span>
<span class="normal">      Module pin number</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Gpio.4">Defines <a class="sectionlink" href="#Gpio.4">§</a></h2>
<pre class="c-code"><span class="normal">PIN4</span>
<span class="normal">PIN5</span>
<span class="normal">PIN6</span>
<span class="normal">PIN7</span>
<span class="normal">PIN18</span>
<span class="normal">PIN19</span>
<span class="normal">PIN22</span>
<span class="normal">PIN23</span>
<span class="normal">PIN26</span>
<span class="normal">PIN27</span>
<span class="normal">PIN28</span>
<span class="normal">PIN40</span>
<span class="normal">PIN41</span>
<span class="normal">PIN64</span>
<span class="normal">PullUp</span>
<span class="normal">PullDown</span>
<span class="normal">PullNone</span>
<span class="normal">Keeper</span>
<span class="normal">Drive2mA</span>
<span class="normal">Drive4mA</span>
<span class="normal">Drive6mA</span>
<span class="normal">Drive8mA</span>
<span class="normal">Drive10mA</span>
<span class="normal">Drive12mA</span>
<span class="normal">Drive14mA</span>
<span class="normal">Drive16mA</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Gpio.5">Summary <a class="sectionlink" href="#Gpio.5">§</a></h2>
<p>Gpio</p>
<p>When a mode isn't specified then the keeper mode is used.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Gpio.6">Example <a class="sectionlink" href="#Gpio.6">§</a></h2>
<pre class="c-code"><span class="function">fin_gpio_pin_config</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">,</span><span class="normal">QAPI_GPIO_PULL_UP_E</span><span class="symbol">,</span><span class="normal">QAPI_GPIO_12MA_E</span><span class="symbol">,</span><span class="normal">QAPI_GPIO_INPUT_E</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> val </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_gpio_pin_read</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Http">
<a href="#Http"><span class="hidechar">.</span>Http</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Http">Http</a>
 <a class="sectionlink" href="#Http">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Http.1">Prototype <a class="sectionlink" href="#Http.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_http_client_ctx_t *fin_htpp_client_new(void);
int fin_htpp_client_free(fin_http_client_ctx_t *ctx);
int fin_htpp_client_set_header(fin_http_client_ctx_t *ctx, const char *key, const char *value);
int fin_htpp_client_set_parameter(fin_http_client_ctx_t *ctx, const char *key, const char *value);
int fin_htpp_client_set_body(fin_http_client_ctx_t *ctx, const char *body, uint32_t len);
int fin_htpp_client_get(fin_http_client_ctx_t *ctx, const char *host, int port, const char *path);"><span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="function">fin_htpp_client_new</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_htpp_client_free</span><span class="symbol">(</span><span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_htpp_client_set_header</span><span class="symbol">(</span><span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">value</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_htpp_client_set_parameter</span><span class="symbol">(</span><span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">value</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_htpp_client_set_body</span><span class="symbol">(</span><span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">body</span><span class="symbol">,</span><span class="normal"> uint32_t len</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_htpp_client_get</span><span class="symbol">(</span><span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">host</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> port</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">path</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Http.2">Macros <a class="sectionlink" href="#Http.2">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_htpp_client_set_user_callback(ctx,cb);)
fin_http_client_for_each(p,ctx);
fin_htpp_client_has_data(ctx);
fin_http_client_get_data(iter);
fin_http_client_get_data_length(iter);
fin_http_client_get_header(iter);
fin_http_client_get_header_length(iter);
fin_http_client_free_resource(iter,data);
fin_http_client_set_timeout(ctx, t);"><span class="function">fin_htpp_client_set_user_callback</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal">cb</span><span class="symbol">)</span><span class="symbol">;</span><span class="symbol">)</span>
<span class="function">fin_http_client_for_each</span><span class="symbol">(</span><span class="normal">p</span><span class="symbol">,</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_htpp_client_has_data</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_http_client_get_data</span><span class="symbol">(</span><span class="normal">iter</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_http_client_get_data_length</span><span class="symbol">(</span><span class="normal">iter</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_http_client_get_header</span><span class="symbol">(</span><span class="normal">iter</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_http_client_get_header_length</span><span class="symbol">(</span><span class="normal">iter</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_http_client_free_resource</span><span class="symbol">(</span><span class="normal">iter</span><span class="symbol">,</span><span class="normal">data</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_http_client_set_timeout</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> t</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Http.3">Function Details <a class="sectionlink" href="#Http.3">§</a></h2>
<pre class="c-code"></pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Http.4">Defines <a class="sectionlink" href="#Http.4">§</a></h2>
<pre class="c-code"></pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Http.5">Summary <a class="sectionlink" href="#Http.5">§</a></h2>
<p>Http</p>
<p>Connect to a HTTP(s) server.</p>
<p>Only a single session is supported.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Http.6">Example <a class="sectionlink" href="#Http.6">§</a></h2>
<pre class="c-code"><span class="comment">/*</span><span class="comment"> Create a context </span><span class="comment">*/</span>
<span class="normal">fin_http_client_ctx_t </span><span class="symbol">*</span><span class="normal">ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_htpp_client_new</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="comment">/*</span><span class="comment"> Http </span><span class="comment">*/</span>
<span class="function">fin_htpp_client_get</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"http://www.google.com"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">80</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"/"</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="comment">/*</span><span class="comment"> Https </span><span class="comment">*/</span>
<span class="function">fin_htpp_client_get</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"https://www.google.com"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">443</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"/"</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="I2c">
<a href="#I2c"><span class="hidechar">.</span>I2c</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-I2c">I2c</a>
 <a class="sectionlink" href="#I2c">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="I2c.1">Prototype <a class="sectionlink" href="#I2c.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int fin_i2c_transfer(fin_i2c_num_t i2c_num, uint16_t addr, uint8_t *tx_data, size_t tx_data_size, uint8_t *rx_data, size_t rx_data_size, uint32_t delay_us);
int fin_i2c_start(fin_i2c_num_t i2c_num);
int fin_i2c_stop(fin_i2c_num_t i2c_num);
int fin_i2c_config(fin_i2c_num_t i2c_num);
int fin_i2c_deconfig(fin_i2c_num_t i2c_num);
int fin_i2c_set_frequency(fin_i2c_num_t i2c_num, uint32_t frequency);
int fin_i2c_power_down(fin_i2c_num_t i2c_num);
int fin_i2c_power_up(fin_i2c_num_t i2c_num);"><span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_transfer</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">,</span><span class="normal"> uint16_t addr</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">tx_data</span><span class="symbol">,</span><span class="normal"> size_t tx_data_size</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">rx_data</span><span class="symbol">,</span><span class="normal"> size_t rx_data_size</span><span class="symbol">,</span><span class="normal"> uint32_t delay_us</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_start</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_stop</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_config</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_deconfig</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_set_frequency</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">,</span><span class="normal"> uint32_t frequency</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_power_down</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_power_up</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="I2c.2">Function Details <a class="sectionlink" href="#I2c.2">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_transfer</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">,</span><span class="normal"> uint16_t addr</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">tx_data</span><span class="symbol">,</span><span class="normal"> size_t tx_data_size</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">rx_data</span><span class="symbol">,</span><span class="normal"> size_t rx_data_size</span><span class="symbol">,</span><span class="normal"> uint32_t delay_us</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">Arguments</span><span class="symbol">:</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">fin_i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">    I2c number</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">Uint16</span><span class="cbracket">}</span><span class="normal"> addr</span>
<span class="normal">    I2c address</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> tx_data</span>
<span class="normal">    Transmit data buffer</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">size_t</span><span class="cbracket">}</span><span class="normal"> tx_data_size</span>
<span class="normal">    Transmit data buffer size</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> rx_data</span>
<span class="normal">    Receive data buffer</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">size_t</span><span class="cbracket">}</span><span class="normal"> rx_data_size</span>
<span class="normal">    Receive data buffer size</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">uint32_t</span><span class="cbracket">}</span><span class="normal"> delay_us</span>
<span class="normal">    Delay in microseconds prior to starting transfer</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_start</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_stop</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_config</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_deconfig</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_set_frequency</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">,</span><span class="normal"> uint32_t frequency</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> frequency</span>
<span class="normal">      I2c clock frequency in kHz</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_power_down</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_i2c_power_up</span><span class="symbol">(</span><span class="normal">fin_i2c_num_t i2c_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_i2c_num_t</span><span class="cbracket">}</span><span class="normal"> i2c_num</span>
<span class="normal">      I2c number</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="I2c.3">Defines <a class="sectionlink" href="#I2c.3">§</a></h2>
<pre class="c-code"><span class="normal">I2C1</span>
<span class="normal">I2C2</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="I2c.4">Summary <a class="sectionlink" href="#I2c.4">§</a></h2>
<p>I2c bus</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="I2c.5">Example <a class="sectionlink" href="#I2c.5">§</a></h2>
<pre class="c-code"><span class="normal">uint8_t txdata</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span><span class="number">0x05</span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="normal">uint8_t rxdata</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">]</span><span class="symbol">;</span>

<span class="type">int</span><span class="normal"> res </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_i2c_config</span><span class="symbol">(</span><span class="normal">I2C1</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">res </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_i2c_transfer</span><span class="symbol">(</span><span class="normal">I2C1</span><span class="symbol">,</span><span class="number">0x18</span><span class="symbol">,</span><span class="normal">txdata</span><span class="symbol">,</span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">txdata</span><span class="symbol">)</span><span class="symbol">,</span><span class="normal">rxdata</span><span class="symbol">,</span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">rxdata</span><span class="symbol">)</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Malloc">
<a href="#Malloc"><span class="hidechar">.</span>Malloc</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Malloc">Malloc</a>
 <a class="sectionlink" href="#Malloc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Malloc.1">Prototype <a class="sectionlink" href="#Malloc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *malloc(size_t size);
void free(void *ptr);
void *calloc (size_t num, size_t size);
void *realloc (void* ptr, size_t size);
void *memalign(size_t align, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">malloc</span><span class="symbol">(</span><span class="normal">size_t size</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="function">free</span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">calloc </span><span class="symbol">(</span><span class="normal">size_t num</span><span class="symbol">,</span><span class="normal"> size_t size</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">realloc </span><span class="symbol">(</span><span class="type">void</span><span class="symbol">*</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> size_t size</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">memalign</span><span class="symbol">(</span><span class="normal">size_t align</span><span class="symbol">,</span><span class="normal"> size_t len</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Malloc.2">Defines <a class="sectionlink" href="#Malloc.2">§</a></h2>
<pre class="c-code"><span class="normal">MALLOC_FREE_INLINE</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Malloc.3">Summary <a class="sectionlink" href="#Malloc.3">§</a></h2>
<p>Thread safe dynamic memory alloation.</p>
<p>The memory is 8 byte aligned.</p>
<p>The <b>memalign</b> argument align is ignored and will align 8 bytes always.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Malloc.4">Example <a class="sectionlink" href="#Malloc.4">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p </span><span class="symbol">=</span><span class="normal"> </span><span class="function">malloc</span><span class="symbol">(</span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">free</span><span class="symbol">(</span><span class="normal">p</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Net">
<a href="#Net"><span class="hidechar">.</span>Net</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Net">Net</a>
 <a class="sectionlink" href="#Net">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Net.1">Prototype <a class="sectionlink" href="#Net.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *fin_resolve_host_itf(const char *domain, const char *itf, char *buf, size_t buf_len);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">fin_resolve_host_itf</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">domain</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">itf</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> size_t buf_len</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Net.2">Macros <a class="sectionlink" href="#Net.2">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_dump_net_interfaces();
fin_dump_dns_server_list();
fin_resolve_host(domain, itf);"><span class="function">fin_dump_net_interfaces</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_dump_dns_server_list</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_resolve_host</span><span class="symbol">(</span><span class="normal">domain</span><span class="symbol">,</span><span class="normal"> itf</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Net.3">Summary <a class="sectionlink" href="#Net.3">§</a></h2>
<p>Net</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Net.4">Example <a class="sectionlink" href="#Net.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ip </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_resolve_host</span><span class="symbol">(</span><span class="string">"www.google.com"</span><span class="symbol">,</span><span class="normal">rmnet_data0</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"resolved ip: %s\r\n"</span><span class="symbol">,</span><span class="normal">ip</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="Net.5">See also <a class="sectionlink" href="#Net.5">§</a></h2>
<ul>
<li><a href="#Dss">Dss</a></li>
</ul>
</div>

</div><h1 class="apih1 sectiontitle" id="Random">
<a href="#Random"><span class="hidechar">.</span>Random</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Random">Random</a>
 <a class="sectionlink" href="#Random">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Random.1">Prototype <a class="sectionlink" href="#Random.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void fin_hwrandombytes(uint8_t *buf, uint64_t size );"><span class="type">void</span><span class="normal"> </span><span class="function">fin_hwrandombytes</span><span class="symbol">(</span><span class="normal">uint8_t </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> uint64_t size </span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Random.2">Function Details <a class="sectionlink" href="#Random.2">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">fin_hwrandombytes</span><span class="symbol">(</span><span class="normal">uint8_t </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> uint64_t size </span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">uint8_t</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> buf</span>
<span class="normal">      Buffer to store random bytes</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">uint64_t</span><span class="cbracket">}</span><span class="normal"> size</span>
<span class="normal">      Size of the buffer</span>
<span class="normal">  </span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Random.3">Summary <a class="sectionlink" href="#Random.3">§</a></h2>
<p>Random</p>
<p>Return hardware created random bytes.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Random.4">Example <a class="sectionlink" href="#Random.4">§</a></h2>
<pre class="c-code"><span class="normal">uint8_t buf</span><span class="symbol">[</span><span class="number">255</span><span class="symbol">]</span><span class="symbol">;</span>
<span class="function">fin_hwrandombytes</span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Spi">
<a href="#Spi"><span class="hidechar">.</span>Spi</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Spi">Spi</a>
 <a class="sectionlink" href="#Spi">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Spi.1">Prototype <a class="sectionlink" href="#Spi.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): fin_spi_power_down(fin_spi_num_t spi_num);
fin_spi_power_up(fin_spi_num_t spi_num);
fin_spi_config(fin_spi_num_t spi_num);
fin_spi_deconfig(fin_spi_num_t spi_num);
fin_spi_set_frequency(fin_spi_num_t spi_num, uint32_t frequency);
fin_spi_set_endianess(fin_spi_num_t spi_num, spi_endian_t endian);
fin_spi_set_bit_per_word(fin_spi_num_t spi_num, spi_bits_per_word_t bpw);
fin_spi_set_mode(fin_spi_num_t spi_num, spi_mode_t mode);
fin_spi_set_inter_word_delay(fin_spi_num_t spi_num, uint8_t delay);
fin_spi_set_loopback(fin_spi_num_t spi_num, bool enable);
fin_spi_set_chip_select_mode(fin_spi_num_t spi_num, spi_cs_mode_t mode);
fin_spi_set_chip_select_polarity(fin_spi_num_t spi_num, spi_cs_polarity_t polarity);
fin_spi_set_chip_select_delay(fin_spi_num_t spi_num, uint8_t delay);
fin_spi_set_slaves_num(fin_spi_num_t spi_num, uint8_t num);
fin_spi_send(fin_spi_num_t spi_num, uint8_t *tx_buf, size_t tx_len);
fin_spi_send_receive(fin_spi_num_t spi_num, uint8_t *tx_buf, uint8_t *rx_buf, size_t rx_len);
fin_spi_config_dump(fin_spi_num_t spi_num);
fin_spi_get_name(fin_spi_num_t spi_num);"><span class="function">fin_spi_power_down</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_power_up</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_config</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_deconfig</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_frequency</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint32_t frequency</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_endianess</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_endian_t endian</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_bit_per_word</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_bits_per_word_t bpw</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_mode</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_mode_t mode</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_inter_word_delay</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t delay</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_loopback</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> </span><span class="type">bool</span><span class="normal"> enable</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_chip_select_mode</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_cs_mode_t mode</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_chip_select_polarity</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_cs_polarity_t polarity</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_chip_select_delay</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t delay</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_set_slaves_num</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_send</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">tx_buf</span><span class="symbol">,</span><span class="normal"> size_t tx_len</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_send_receive</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">tx_buf</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">rx_buf</span><span class="symbol">,</span><span class="normal"> size_t rx_len</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_config_dump</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_get_name</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Spi.2">Function Details <a class="sectionlink" href="#Spi.2">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_power_down</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">  </span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_power_up</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_config</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_deconfig</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_frequency</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint32_t frequency</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> frequency</span>
<span class="normal">      Spi clock frequency with a ninimum of </span><span class="number">1</span><span class="normal"> Mhz</span><span class="symbol">.</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_endianess</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_endian_t endian</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">spi_endian_t</span><span class="cbracket">}</span><span class="normal"> endian</span>
<span class="normal">      Set endianess</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_bit_per_word</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_bits_per_word_t bpw</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">spi_bits_per_word_t</span><span class="cbracket">}</span><span class="normal"> bpw</span>
<span class="normal">      Set bits per word</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_mode</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_mode_t mode</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">    Spi number</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">spi_mode_t</span><span class="cbracket">}</span><span class="normal"> mode</span>
<span class="normal">    Set mode to </span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="normal"> or </span><span class="number">3</span><span class="symbol">.</span><span class="normal"> </span>
<span class="normal">    </span><span class="number">0</span><span class="symbol">:</span><span class="normal"> CPOL </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> CPHA </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span>
<span class="normal">    </span><span class="number">1</span><span class="symbol">:</span><span class="normal"> CPOL </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> CPHA </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1</span>
<span class="normal">    </span><span class="number">2</span><span class="symbol">:</span><span class="normal"> CPOL </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> CPHA </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span>
<span class="normal">    </span><span class="number">3</span><span class="symbol">:</span><span class="normal"> CPOL </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> CPHA </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_inter_word_delay</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t delay</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="cbracket">}</span><span class="normal"> delay</span>
<span class="normal">      Set the inter word delay</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_loopback</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> </span><span class="type">bool</span><span class="normal"> enable</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Bool</span><span class="cbracket">}</span><span class="normal"> enable</span>
<span class="normal">      Set loopack mode  </span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_chip_select_mode</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_cs_mode_t mode</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">spi_cs_mode_t</span><span class="cbracket">}</span><span class="normal"> mode</span>
<span class="normal">      Set chip select mode to deassert or keep asserted</span><span class="symbol">.</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_chip_select_polarity</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> spi_cs_polarity_t polarity</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">spi_cs_polarity_t</span><span class="cbracket">}</span><span class="normal"> polarity</span>
<span class="normal">      Set chip select polarity to active low or active high</span><span class="symbol">.</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_chip_select_delay</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t delay</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="cbracket">}</span><span class="normal"> delay</span>
<span class="normal">      Set chip select delay</span><span class="symbol">.</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_set_slaves_num</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="cbracket">}</span><span class="normal"> num</span>
<span class="normal">      Set the number of daisy chained slaves with a range of </span><span class="number">0</span><span class="normal"> to </span><span class="number">7</span><span class="symbol">.</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_send</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">tx_buf</span><span class="symbol">,</span><span class="normal"> size_t tx_len</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> tx_buf</span>
<span class="normal">      Transmit data buffer</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">size_t</span><span class="cbracket">}</span><span class="normal"> tx_len</span>
<span class="normal">      Transmit data buffer length</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_spi_send_receive</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">tx_buf</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">rx_buf</span><span class="symbol">,</span><span class="normal"> size_t rx_len</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> tx_buf</span>
<span class="normal">      Transmit data buffer</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> rx_buf</span>
<span class="normal">      Receive data buffer</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">size_t</span><span class="cbracket">}</span><span class="normal"> rx_len</span>
<span class="normal">      Receive data buffer length</span>

<span class="type">void</span><span class="normal"> </span><span class="function">fin_spi_config_dump</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>

<span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">fin_spi_get_name</span><span class="symbol">(</span><span class="normal">fin_spi_num_t spi_num</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_spi_num_t</span><span class="cbracket">}</span><span class="normal"> spi_num</span>
<span class="normal">      Spi number</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Spi.3">Summary <a class="sectionlink" href="#Spi.3">§</a></h2>
<p>Spi bus</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Spi.4">Example <a class="sectionlink" href="#Spi.4">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> res </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_spi_config</span><span class="symbol">(</span><span class="normal">SPI1</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_spi_config_dump</span><span class="symbol">(</span><span class="normal">SPI1</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">name </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_spi_get_name</span><span class="symbol">(</span><span class="normal">SPI1</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="normal">res </span><span class="symbol">=</span><span class="normal"> </span><span class="function">fin_spi_send_receive</span><span class="symbol">(</span><span class="normal">SPI1</span><span class="symbol">,</span><span class="symbol">&amp;</span><span class="normal">addr</span><span class="symbol">,</span><span class="symbol">&amp;</span><span class="normal">version</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Stdio">
<a href="#Stdio"><span class="hidechar">.</span>Stdio</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Stdio">Stdio</a>
 <a class="sectionlink" href="#Stdio">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Stdio.1">Prototype <a class="sectionlink" href="#Stdio.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int printf(const char *format, ...);
size_t write(int fildes, const void *buf, size_t nbytes1);
int puts(const char *s);
int putchar(int character);
int getchar(void);"><span class="type">int</span><span class="normal"> </span><span class="function">printf</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">format</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">.</span><span class="symbol">.</span><span class="symbol">.</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">size_t </span><span class="function">write</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> fildes</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> size_t nbytes1</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">puts</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">s</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">putchar</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> character</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">getchar</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Stdio.2">Summary <a class="sectionlink" href="#Stdio.2">§</a></h2>
<p>Stdio</p>
<p>stdout and stdin uses Uart 2.</p>
<p>The listed functions are wrapped/overwritten to keep compatibility with the standard C library.</p>
<p>The functions are thread safe.</p>
<p>stdout &amp; stdin are allocated with 512 bytes. If you printf anything larger it shalll be clipped.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Stdio.3">Example <a class="sectionlink" href="#Stdio.3">§</a></h2>
<pre class="c-code"><span class="comment">/*</span><span class="comment"> Stdio </span><span class="comment">*/</span>
<span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">s </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"SingleFin"</span><span class="symbol">;</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"%s\r\n"</span><span class="symbol">,</span><span class="normal">s</span><span class="symbol">)</span><span class="symbol">;</span>

<span class="comment">/*</span><span class="comment"> Stdin </span><span class="comment">*/</span>
<span class="type">int</span><span class="normal"> c </span><span class="symbol">=</span><span class="normal"> </span><span class="function">getchar</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div><h1 class="apih1 sectiontitle" id="Uart">
<a href="#Uart"><span class="hidechar">.</span>Uart</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-Uart">Uart</a>
 <a class="sectionlink" href="#Uart">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Uart.1">Prototype <a class="sectionlink" href="#Uart.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int fin_uart_config(fin_uart_t uart, uint32_t baud_rate, uint32_t stop_bits, uint32_t bits_per_char, uint32_t parity, uint32_t flow_ctrl);
int fin_uart_deconfig(fin_uart_t uart);
int fin_uart_write(fin_uart_t uart, uint8_t *buf, size_t nbytes);
int fin_uart_read(fin_uart_t uart, uint8_t *buf, size_t nbytes);
int fin_uart_power_up(fin_uart_t uart);
int fin_uart_power_down(fin_uart_t uart);"><span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_config</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">,</span><span class="normal"> uint32_t baud_rate</span><span class="symbol">,</span><span class="normal"> uint32_t stop_bits</span><span class="symbol">,</span><span class="normal"> uint32_t bits_per_char</span><span class="symbol">,</span><span class="normal"> uint32_t parity</span><span class="symbol">,</span><span class="normal"> uint32_t flow_ctrl</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_deconfig</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_write</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> size_t nbytes</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_read</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> size_t nbytes</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_power_up</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_power_down</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Uart.2">Function Details <a class="sectionlink" href="#Uart.2">§</a></h2>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_config</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">,</span><span class="normal"> uint32_t baud_rate</span><span class="symbol">,</span><span class="normal"> uint32_t stop_bits</span><span class="symbol">,</span><span class="normal"> uint32_t bits_per_char</span><span class="symbol">,</span><span class="normal"> uint32_t parity</span><span class="symbol">,</span><span class="normal"> uint32_t flow_ctrl</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_uart_t</span><span class="cbracket">}</span><span class="normal"> uart</span>
<span class="normal">      Uart number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> baud_rate</span>
<span class="normal">      Uart baud rate</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> stop_bits</span>
<span class="normal">      Uart number of stop bits</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> bits_per_char</span>
<span class="normal">      Uart bits per character</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> parity</span>
<span class="normal">      Uart parity</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint32</span><span class="cbracket">}</span><span class="normal"> flow_ctrl</span>
<span class="normal">      Uart flow control</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_deconfig</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_uart_t</span><span class="cbracket">}</span><span class="normal"> uart</span>
<span class="normal">      Uart number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_write</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> size_t nbytes</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">fin_uart_t</span><span class="cbracket">}</span><span class="normal"> uart</span>
<span class="normal">      Uart number</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> buf</span>
<span class="normal">      Transmit data buffer </span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal">size_t</span><span class="cbracket">}</span><span class="normal"> nbytes</span>
<span class="normal">      Transmit data buffer size</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_read</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">,</span><span class="normal"> uint8_t </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">,</span><span class="normal"> size_t nbytes</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">fin_uart_t</span><span class="cbracket">}</span><span class="normal"> uart</span>
<span class="normal">    Uart number</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">Uint8</span><span class="symbol">*</span><span class="cbracket">}</span><span class="normal"> buf</span>
<span class="normal">    Receive data buffer </span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">size_t</span><span class="cbracket">}</span><span class="normal"> nbytes</span>
<span class="normal">    Receive data buffer size</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_power_up</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">fin_uart_t</span><span class="cbracket">}</span><span class="normal"> uart</span>
<span class="normal">    Uart number</span>

<span class="type">int</span><span class="normal"> </span><span class="function">fin_uart_power_down</span><span class="symbol">(</span><span class="normal">fin_uart_t uart</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="normal">  Arguments</span><span class="symbol">:</span>
<span class="normal">  </span><span class="cbracket">{</span><span class="normal">fin_uart_t</span><span class="cbracket">}</span><span class="normal"> uart</span>
<span class="normal">    Uart number  </span>
</pre>
</div>
<div class="api-part">
<h2 class="api-proto sectiontitle" id="Uart.3">Defines <a class="sectionlink" href="#Uart.3">§</a></h2>
<pre class="c-code"><span class="normal">UART1</span>
<span class="normal">UART2</span>
<span class="normal">UART3</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="Uart.4">Summary <a class="sectionlink" href="#Uart.4">§</a></h2>
<p>Uart</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="Uart.5">Example <a class="sectionlink" href="#Uart.5">§</a></h2>
<pre class="c-code"><span class="comment">/*</span><span class="comment"> Uart 3</span><span class="comment">*/</span>
<span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">str </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"Aloha!"</span><span class="symbol">;</span>

<span class="function">fin_uart_config</span><span class="symbol">(</span><span class="normal">UART3</span><span class="symbol">,</span><span class="number">115200</span><span class="symbol">,</span><span class="normal">QAPI_UART_1_0_STOP_BITS_E</span><span class="symbol">,</span><span class="normal">QAPI_UART_8_BITS_PER_CHAR_E</span><span class="symbol">,</span><span class="normal">QAPI_UART_NO_PARITY_E</span><span class="symbol">,</span><span class="normal">QAPI_FCTL_OFF_E</span><span class="symbol">)</span><span class="symbol">;</span>
<span class="function">fin_uart_write</span><span class="symbol">(</span><span class="normal">UART3</span><span class="symbol">,</span><span class="normal">str</span><span class="symbol">,</span><span class="function">strlen</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">)</span><span class="symbol">)</span><span class="symbol">;</span>
</pre>
</div>

</div></div> <!-- site-middle-content -->
</div> <!-- site-middle -->
</main>
<footer class="footer mt-auto py-3" style="background-color: #f5f5f5;">
<div class="container">
<span class="text-muted">SingleFin</span>
</div>
</footer>
</body>
</html>
